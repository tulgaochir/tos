<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2: Security Market Indices - CFA Equity Investments</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
        }
        
        /* Navigation */
        .chapter-nav {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: white;
            height: 100%;
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        
        /* Content styling */
        h1, h2, h3 {
            font-weight: 700;
            color: #1a202c;
        }
        
        .content-section {
            margin-bottom: 3rem;
            padding: 2.5rem;
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .content-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4299e1, #48bb78, #ed8936);
        }
        
        .content-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .formula {
            background: linear-gradient(135deg, #f8fafc, #ebf8ff);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-size: 1.125rem;
            color: #2d3748;
            border-left: 4px solid #4299e1;
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.1);
        }
        
        .example {
            border: 2px solid #e2e8f0;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border-radius: 0.75rem;
            background: linear-gradient(135deg, #f8fafc, #f7fafc);
            position: relative;
        }
        
        .example::before {
            content: 'Example';
            position: absolute;
            top: -12px;
            left: 1rem;
            background: #4299e1;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .example-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.5rem;
            margin-top: 1rem;
        }

        .section-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            border-radius: 50%;
            margin-right: 1rem;
            font-weight: 700;
            font-size: 1.25rem;
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.3);
        }

        .table-container {
            overflow-x: auto;
            margin-top: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 2px solid #e2e8f0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: linear-gradient(135deg, #2c5282, #2a4365);
            color: white;
            text-align: left;
            padding: 1.25rem;
            font-weight: 600;
            font-size: 1rem;
        }
        
        td {
            padding: 1.25rem;
            border-bottom: 1px solid #e2e8f0;
            transition: background-color 0.2s ease;
        }
        
        tr:nth-child(even) {
            background-color: #f8fafc;
        }
        
        tr:hover {
            background-color: #ebf8ff;
        }

        .section-divider {
            height: 2px;
            background: linear-gradient(to right, transparent, #cbd5e0, transparent);
            margin: 3rem 0;
        }
        
        .key-point {
            background: linear-gradient(135deg, #ebf8ff, #e6fffa);
            border-left: 4px solid #4299e1;
            padding: 1.25rem 1.25rem 1.25rem 1.75rem;
            margin: 1.5rem 0;
            border-radius: 0 0.75rem 0.75rem 0;
            box-shadow: 0 2px 8px rgba(66, 153, 225, 0.1);
        }
        
        .key-point strong {
            color: #2c5282;
        }

        .index-type-card {
            background: linear-gradient(135deg, #f8fafc, #f0fff4);
            border: 2px solid #e2e8f0;
            border-radius: 0.875rem;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .index-type-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4299e1, #48bb78);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .index-type-card:hover::before {
            transform: scaleX(1);
        }
        
        .index-type-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
            border-color: #4299e1;
        }

        .index-type-card h3 {
            font-weight: 700;
            color: #2c5282;
            font-size: 1.25rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .index-type-card h3 i {
            margin-right: 0.5rem;
            color: #4299e1;
        }

        .purpose-item {
            background: linear-gradient(135deg, #f0fff4, #e6fffa);
            border-left: 4px solid #48bb78;
            padding: 1.25rem;
            margin-bottom: 1rem;
            border-radius: 0 0.75rem 0.75rem 0;
            box-shadow: 0 2px 8px rgba(72, 187, 120, 0.1);
        }
        
        /* Floating navigation */
        .floating-toc {
            position: fixed;
            top: 50%;
            right: 2rem;
            transform: translateY(-50%);
            background: white;
            border-radius: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            z-index: 1000;
            max-width: 200px;
        }
        
        .toc-item {
            display: block;
            padding: 0.5rem;
            color: #4a5568;
            text-decoration: none;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            transition: all 0.2s ease;
        }
        
        .toc-item:hover,
        .toc-item.active {
            background: #ebf8ff;
            color: #2c5282;
        }

        @media (max-width: 768px) {
            .floating-toc {
                display: none;
            }
            .content-section {
                padding: 1.5rem;
            }
            .index-type-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Chapter Navigation -->
    <nav class="chapter-nav text-white sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <a href="chapter1.html" class="flex items-center text-white hover:text-blue-200 transition-colors">
                        <i class="fas fa-arrow-left mr-2"></i>
                        <span>Previous Chapter</span>
                    </a>
                    <div class="hidden md:block text-lg font-semibold">
                        Chapter 2: Security Market Indices
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-sm opacity-75">Progress</span>
                    <div class="w-24 progress-bar">
                        <div class="progress-fill" style="width: 25%"></div>
                    </div>
                    <a href="chapter3.html" class="flex items-center text-white hover:text-blue-200 transition-colors">
                        <span>Next Chapter</span>
                        <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Floating Table of Contents -->
    <div class="floating-toc hidden lg:block">
        <div class="text-sm font-semibold text-gray-700 mb-2">Contents</div>
        <a href="#section1" class="toc-item active">Introduction</a>
        <a href="#section2" class="toc-item">Index Calculation</a>
        <a href="#section3" class="toc-item">Construction & Weighting</a>
        <a href="#section4" class="toc-item">Index Management</a>
        <a href="#section5" class="toc-item">Uses & Types</a>
    </div>

    <div class="max-w-5xl mx-auto px-4 py-8">
        <header class="text-center mb-12">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-6">
                <i class="fas fa-chart-bar text-2xl text-green-600"></i>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">Security Market Indices</h1>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">Understanding How Indices Measure Market Performance</p>
            <div class="section-divider"></div>
        </header>

        <!-- 1. Introduction to Security Market Indices -->
        <div id="section1" class="content-section">
            <h2 class="text-2xl mb-6 flex items-center">
                <span class="section-number">1</span>
                What is a Security Market Index?
            </h2>
            <p class="text-lg mb-6 text-gray-700">A <strong>security market index</strong> is a single number that represents the performance of a group of securities (the constituent securities). It acts as a barometer for a specific market, market segment, or asset class.</p>
            
            <h3 class="text-xl mt-8 mb-4 flex items-center">
                <i class="fas fa-bullseye mr-2 text-blue-600"></i>
                Purpose and Functions of Indices
            </h3>
            <div class="space-y-3">
                <div class="purpose-item">
                    <strong>Performance Measurement:</strong> Provide a simple, single measure to track the performance of a market.
                </div>
                <div class="purpose-item">
                    <strong>Market Sentiment Gauge:</strong> Reflect the collective opinion and mood of investors.
                </div>
                <div class="purpose-item">
                    <strong>Investment Benchmarks:</strong> Serve as a standard against which the performance of an investment manager is evaluated.
                </div>
                <div class="purpose-item">
                    <strong>Basis for Investment Products:</strong> Form the foundation for passive investment products like index funds and ETFs.
                </div>
            </div>
        </div>
        
        <!-- 2. Index Calculation: Value and Returns -->
        <div id="section2" class="content-section">
            <h2 class="text-2xl mb-6 flex items-center">
                <span class="section-number">2</span>
                Index Calculation: Value and Returns
            </h2>
            <p class="text-lg mb-6 text-gray-700">The value of an index and its return can be calculated in two primary ways, depending on whether income distributions are included.</p>

            <h3 class="text-xl mt-8 mb-4 flex items-center">
                <i class="fas fa-calculator mr-2 text-purple-600"></i>
                Price Index vs. Total Return Index
            </h3>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="index-type-card">
                    <h3>
                        <i class="fas fa-tag"></i>
                        Price Index
                    </h3>
                    <p class="text-gray-700">Reflects only the changes in the prices of the constituent securities. It does not account for dividends or interest payments.</p>
                </div>
                <div class="index-type-card">
                    <h3>
                        <i class="fas fa-chart-line"></i>
                        Total Return Index
                    </h3>
                    <p class="text-gray-700">Measures the total performance by tracking both price changes and the reinvestment of all income (dividends and interest) received from the constituent securities. A total return index will always outperform its corresponding price index over time.</p>
                </div>
            </div>

            <h3 class="text-xl mt-8 mb-4 flex items-center">
                <i class="fas fa-percent mr-2 text-green-600"></i>
                Calculating Single-Period Returns
            </h3>
            <div class="example">
                <p class="example-title">Illustrative Example: Single-Period Return</p>
                <p class="text-gray-700">An index starts the period at a value of 1,000. During the period, the prices of its constituent stocks rise, bringing the price index value to 1,020. The stocks also pay dividends, which, if reinvested, would bring the total return index value to 1,025.</p>
                <div class="grid md:grid-cols-2 gap-6 mt-4">
                    <div class="key-point">
                        <strong>Price Return</strong> = (Ending Price Value / Beginning Value) - 1 = (1,020 / 1,000) - 1 = 2.0%
                    </div>
                    <div class="key-point">
                        <strong>Total Return</strong> = (Ending Total Return Value / Beginning Value) - 1 = (1,025 / 1,000) - 1 = 2.5%
                    </div>
                </div>
            </div>

            <h3 class="text-xl mt-8 mb-4 flex items-center">
                <i class="fas fa-calendar-alt mr-2 text-orange-600"></i>
                Calculating Index Values Over Multiple Periods
            </h3>
            <p class="mb-4 text-gray-700">To calculate the index value over multiple periods, you geometrically link the returns from each period.</p>
            <div class="formula">V_T = V₀ × (1 + R₁) × (1 + R₂) × ... × (1 + R_T)</div>
            <p class="mt-4 text-gray-700">Where V_T is the value at the end of period T, V₀ is the initial value, and R is the return for each period.</p>
        </div>

        <!-- 3. Index Construction and Weighting -->
        <div id="section3" class="content-section">
            <h2 class="text-2xl mb-6 flex items-center">
                <span class="section-number">3</span>
                Index Construction and Weighting
            </h2>
            <p class="text-lg mb-6 text-gray-700">Constructing an index involves two key steps: selecting the target market and securities, and choosing a weighting method.</p>
            
            <h3 class="text-xl mt-8 mb-4 flex items-center">
                <i class="fas fa-balance-scale mr-2 text-blue-600"></i>
                Common Index Weighting Systems
            </h3>
            <div class="table-container">
                 <table>
                    <thead>
                        <tr>
                            <th>Weighting Method</th>
                            <th>Description</th>
                            <th>Example</th>
                            <th>Pros & Cons</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Price-Weighted</strong></td>
                            <td>Constituents are weighted by their absolute share price.</td>
                            <td>Dow Jones Industrial Average</td>
                            <td><strong>Pros:</strong> Simple to calculate.<br><strong>Cons:</strong> Biased by high-priced stocks; distorted by stock splits.</td>
                        </tr>
                        <tr>
                            <td><strong>Equal-Weighted</strong></td>
                            <td>Each constituent has the same weight in the index.</td>
                            <td>Value Line Index</td>
                            <td><strong>Pros:</strong> Diversified; avoids large-cap dominance.<br><strong>Cons:</strong> Biased toward small-caps; requires frequent rebalancing.</td>
                        </tr>
                        <tr>
                            <td><strong>Market Capitalization-Weighted</strong></td>
                            <td>Constituents are weighted by their total market value (Share Price × Shares Outstanding).</td>
                            <td>S&P 500</td>
                            <td><strong>Pros:</strong> Represents the market proportionally.<br><strong>Cons:</strong> Biased toward large-cap, overvalued stocks.</td>
                        </tr>
                        <tr>
                            <td><strong>Float-Adjusted Market Cap-Weighted</strong></td>
                            <td>Like market-cap weighted, but uses only the number of publicly available shares (the "float").</td>
                            <td>FTSE 100</td>
                            <td><strong>Pros:</strong> Focuses on the investable portion of the market.<br><strong>Cons:</strong> Similar biases as standard market-cap weighting.</td>
                        </tr>
                        <tr>
                            <td><strong>Fundamental-Weighted</strong></td>
                            <td>Constituents are weighted by a fundamental metric like revenue, earnings, or cash flow.</td>
                            <td>N/A (Various)</td>
                            <td><strong>Pros:</strong> Avoids large-cap bias; aligns with value investing.<br><strong>Cons:</strong> Requires more data; may not track market trends.</td>
                        </tr>
                    </tbody>
                 </table>
            </div>
        </div>
        
        <!-- 4. Index Management -->
        <div id="section4" class="content-section">
            <h2 class="text-2xl mb-6 flex items-center">
                <span class="section-number">4</span>
                Index Management: Rebalancing and Reconstitution
            </h2>
            <div class="grid md:grid-cols-2 gap-8 mt-8">
                <div class="index-type-card">
                    <h3>
                        <i class="fas fa-sync-alt"></i>
                        Rebalancing
                    </h3>
                    <p class="text-gray-700">This is the process of adjusting the weights of the constituent securities to maintain consistency with the index's weighting methodology. For example, an equal-weighted index must be rebalanced periodically as stock prices change and the weights drift. This process incurs transaction costs.</p>
                </div>
                <div class="index-type-card">
                    <h3>
                        <i class="fas fa-exchange-alt"></i>
                        Reconstitution
                    </h3>
                    <p class="text-gray-700">This is the process of changing the constituent securities in an index. Securities are added or removed to ensure the index remains representative of its target market. This is a subset of the broader rebalancing process and often causes the prices of added securities to rise and removed securities to fall around the announcement date.</p>
                </div>
            </div>
        </div>

        <!-- 5. Uses and Types of Indices -->
        <div id="section5" class="content-section">
            <h2 class="text-2xl mb-6 flex items-center">
                <span class="section-number">5</span>
                Uses and Types of Indices
            </h2>
            <div class="grid md:grid-cols-2 gap-8 mt-8">
                 <div>
                    <h3 class="text-xl mb-4 font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-chart-pie mr-2 text-blue-600"></i>
                        Types of Equity Indices
                    </h3>
                    <div class="space-y-3">
                        <div class="key-point">
                            <strong>Broad Market Indices:</strong> Cover 90%+ of an entire equity market (e.g., Wilshire 5000).
                        </div>
                        <div class="key-point">
                            <strong>Multi-Market Indices:</strong> Combine indices from different countries (e.g., MSCI World).
                        </div>
                        <div class="key-point">
                            <strong>Sector Indices:</strong> Track specific economic sectors like technology or healthcare.
                        </div>
                        <div class="key-point">
                            <strong>Style Indices:</strong> Categorize stocks based on characteristics like market cap (large vs. small) or valuation (value vs. growth).
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl mb-4 font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-percentage mr-2 text-green-600"></i>
                        Fixed-Income Indices
                    </h3>
                    <p class="mb-4 text-gray-700">These are more challenging to construct than equity indices due to the vast and dynamic universe of bonds and the reliance on dealer pricing.</p>
                    <div class="key-point">
                        They are categorized by dimensions like market scope, security type, maturity, and credit quality.
                    </div>
                </div>
                 <div class="md:col-span-2">
                    <h3 class="text-xl mb-4 font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-coins mr-2 text-purple-600"></i>
                        Indices for Alternative Investments
                    </h3>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="index-type-card">
                            <h3>
                                <i class="fas fa-oil-can"></i>
                                Commodity Indices
                            </h3>
                            <p class="text-gray-700">Based on futures contracts; returns include price changes, collateral yield, and roll yield.</p>
                        </div>
                        <div class="index-type-card">
                            <h3>
                                <i class="fas fa-home"></i>
                                Real Estate Indices
                            </h3>
                            <p class="text-gray-700">Include appraisal-based, repeat sales, and REIT indices.</p>
                        </div>
                        <div class="index-type-card">
                            <h3>
                                <i class="fas fa-chart-area"></i>
                                Hedge Fund Indices
                            </h3>
                            <p class="text-gray-700">Track performance of hedge funds but are subject to biases like survivorship bias (failing funds drop out, inflating average returns).</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chapter Navigation -->
        <div class="flex justify-between items-center mt-12 pt-8 border-t border-gray-200">
            <a href="chapter1.html" class="flex items-center text-gray-600 hover:text-blue-600 transition-colors">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Market Organization
            </a>
            <div class="text-center">
                <div class="text-sm text-gray-500 mb-1">Chapter 2 of 8</div>
                <div class="text-lg font-semibold text-gray-800">Security Market Indices</div>
            </div>
            <a href="chapter3.html" class="flex items-center text-blue-600 hover:text-blue-800 font-semibold transition-colors">
                Next: Market Efficiency
                <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>
    </div>

    <script>
        // Update progress on page load
        window.addEventListener('load', () => {
            // Mark this chapter as visited
            let visited = JSON.parse(localStorage.getItem('visitedChapters') || '[]');
            if (!visited.includes('chapter2')) {
                visited.push('chapter2');
                localStorage.setItem('visitedChapters', JSON.stringify(visited));
            }
        });

        // Smooth scrolling for TOC links
        document.querySelectorAll('.toc-item').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const target = document.querySelector(link.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    
                    // Update active TOC item
                    document.querySelectorAll('.toc-item').forEach(item => item.classList.remove('active'));
                    link.classList.add('active');
                }
            });
        });

        // Update TOC active state on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('[id^="section"]');
            const tocItems = document.querySelectorAll('.toc-item');
            
            let current = 0;
            sections.forEach((section, index) => {
                if (window.scrollY >= section.offsetTop - 200) {
                    current = index;
                }
            });
            
            tocItems.forEach((item, index) => {
                item.classList.toggle('active', index === current);
            });
        });
    </script>
</body>
</html>