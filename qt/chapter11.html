<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 11: Big Data Techniques | CFA Level 1 - Quantitative Analysis</title>
    
    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #003366;
            --secondary: #006699;
            --accent: #008080;
            --light: #f8fafc;
            --white: #ffffff;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--gray-800);
            background-color: var(--light);
        }

        .container {
            display: grid;
            grid-template-columns: 300px 1fr;
            min-height: 100vh;
            gap: 0;
        }

        /* Navigation Header */
        .nav-header {
            grid-column: 1 / -1;
            background: var(--primary);
            color: white;
            padding: 1rem 2rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .nav-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: background-color 0.2s;
        }

        .nav-links a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Breadcrumb */
        .breadcrumb {
            grid-column: 1 / -1;
            background: var(--white);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--gray-200);
        }

        .breadcrumb-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--gray-700);
        }

        .breadcrumb a {
            color: var(--secondary);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        /* Sidebar */
        .sidebar {
            background: var(--white);
            border-right: 1px solid var(--gray-200);
            padding: 2rem 1rem;
            position: sticky;
            top: 120px;
            height: calc(100vh - 120px);
            overflow-y: auto;
        }

        .toc {
            position: sticky;
            top: 0;
        }

        .toc h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc-list {
            list-style: none;
        }

        .toc-list li {
            margin-bottom: 0.5rem;
        }

        .toc-list a {
            color: var(--gray-700);
            text-decoration: none;
            display: block;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .toc-list a:hover {
            background-color: var(--gray-100);
            color: var(--primary);
        }

        .toc-list a.active {
            background-color: var(--primary);
            color: white;
            border-left-color: var(--accent);
        }

        /* Main Content */
        .main-content {
            padding: 2rem;
            max-width: none;
            margin: 0;
        }

        .chapter-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-lg);
        }

        .chapter-number {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
        }

        .chapter-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .chapter-description {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 800px;
        }

        /* Content Sections */
        .content-section {
            background: var(--white);
            margin-bottom: 2rem;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--accent);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--gray-100);
        }

        .section-number {
            background: var(--primary);
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .section-content h3 {
            color: var(--secondary);
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .section-content h4 {
            color: var(--gray-800);
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .section-content p {
            margin-bottom: 1rem;
            line-height: 1.7;
        }

        .section-content ul, .section-content ol {
            margin: 1rem 0;
            padding-left: 2rem;
        }

        .section-content li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        /* Formula Display */
        .formula {
            background: var(--gray-100);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            text-align: center;
            border-left: 4px solid var(--accent);
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--white);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--gray-200);
        }

        th {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: var(--gray-100);
        }

        /* Example Boxes */
        .example {
            background: linear-gradient(135deg, #fff7ed, #fef3c7);
            border: 1px solid #fbbf24;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .example-title {
            font-weight: 600;
            color: #92400e;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Important Notes */
        .note {
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            border: 1px solid #3b82f6;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .note-title {
            font-weight: 600;
            color: #1d4ed8;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Navigation Buttons */
        .chapter-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding: 2rem;
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .nav-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            background: var(--primary);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .nav-button:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .nav-button.disabled {
            background: var(--gray-300);
            color: var(--gray-700);
            cursor: not-allowed;
            transform: none;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 250px 1fr;
            }
            
            .sidebar {
                padding: 1rem 0.5rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
            
            .main-content {
                padding: 1rem;
            }
            
            .nav-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                gap: 1rem;
            }
            
            .chapter-title {
                font-size: 2rem;
            }
            
            .chapter-nav {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <nav class="nav-header">
        <div class="nav-content">
            <div class="nav-title">CFA Level 1 - Quantitative Analysis</div>
            <div class="nav-links">
                <a href="index.html"><i class="fas fa-home"></i> Home</a>
                <a href="chapter10.html"><i class="fas fa-arrow-left"></i> Previous</a>
                <span class="nav-button disabled">
                    <i class="fas fa-flag-checkered"></i> Final Chapter
                </span>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="index.html">Home</a>
            <i class="fas fa-chevron-right"></i>
            <span>Chapter 11: Big Data Techniques</span>
        </div>
    </div>

    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="toc">
                <h3><i class="fas fa-list"></i> Table of Contents</h3>
                <ul class="toc-list">
                    <li><a href="#introduction">Introduction to Big Data</a></li>
                    <li><a href="#characteristics">Big Data Characteristics</a></li>
                    <li><a href="#data-processing">Data Processing Methods</a></li>
                    <li><a href="#machine-learning">Machine Learning in Finance</a></li>
                    <li><a href="#artificial-intelligence">Artificial Intelligence</a></li>
                    <li><a href="#fintech-applications">FinTech Applications</a></li>
                    <li><a href="#data-science">Data Science Workflow</a></li>
                    <li><a href="#visualization">Data Visualization</a></li>
                    <li><a href="#ethics-governance">Ethics and Data Governance</a></li>
                    <li><a href="#challenges">Challenges and Limitations</a></li>
                    <li><a href="#summary">Chapter Summary</a></li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Chapter Header -->
            <div class="chapter-header">
                <div class="chapter-number">Chapter 11</div>
                <h1 class="chapter-title">Big Data Techniques</h1>
                <p class="chapter-description">
                    Explore the revolutionary impact of big data, machine learning, and artificial intelligence 
                    on modern finance, and understand how these technologies are transforming investment analysis.
                </p>
            </div>

            <!-- Introduction -->
            <section id="introduction" class="content-section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <h2 class="section-title">Introduction to Big Data in Finance</h2>
                </div>
                <div class="section-content">
                    <p>
                        Big Data represents a paradigm shift in how financial institutions collect, process, 
                        and analyze information. The explosion of digital data sources has created unprecedented 
                        opportunities for investment analysis, risk management, and client services.
                    </p>
                    
                    <h3>Evolution of Data in Finance</h3>
                    <ul>
                        <li><strong>Traditional Data:</strong> Financial statements, price data, economic indicators</li>
                        <li><strong>Alternative Data:</strong> Social media, satellite imagery, web scraping, IoT sensors</li>
                        <li><strong>Real-time Data:</strong> High-frequency trading data, news feeds, market sentiment</li>
                    </ul>
                    
                    <h3>Impact on Investment Management</h3>
                    <ul>
                        <li>Enhanced alpha generation through alternative data sources</li>
                        <li>Improved risk management with real-time monitoring</li>
                        <li>Better client personalization and service delivery</li>
                        <li>Automated decision-making and algorithmic trading</li>
                    </ul>
                    
                    <div class="note">
                        <div class="note-title">
                            <i class="fas fa-rocket"></i>
                            Digital Transformation
                        </div>
                        <p>
                            The financial services industry is undergoing rapid digitization, with big data 
                            technologies enabling new business models, products, and competitive advantages.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Characteristics -->
            <section id="characteristics" class="content-section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <h2 class="section-title">The 5 V's of Big Data</h2>
                </div>
                <div class="section-content">
                    <p>
                        Big Data is traditionally characterized by five key dimensions, known as the "5 V's," 
                        which distinguish it from traditional data processing approaches.
                    </p>
                    
                    <h3>1. Volume</h3>
                    <ul>
                        <li>Massive amounts of data generated continuously</li>
                        <li>Terabytes to petabytes of financial market data daily</li>
                        <li>Requires distributed storage and processing systems</li>
                        <li>Examples: High-frequency trading data, transaction records</li>
                    </ul>
                    
                    <h3>2. Velocity</h3>
                    <ul>
                        <li>Speed at which data is generated and must be processed</li>
                        <li>Real-time or near-real-time processing requirements</li>
                        <li>Millisecond decision-making in algorithmic trading</li>
                        <li>Examples: Market data feeds, news sentiment analysis</li>
                    </ul>
                    
                    <h3>3. Variety</h3>
                    <ul>
                        <li>Different types and formats of data</li>
                        <li>Structured: Databases, spreadsheets</li>
                        <li>Semi-structured: JSON, XML</li>
                        <li>Unstructured: Text, images, videos, social media</li>
                    </ul>
                    
                    <h3>4. Veracity</h3>
                    <ul>
                        <li>Quality and trustworthiness of data</li>
                        <li>Dealing with noise, errors, and inconsistencies</li>
                        <li>Data validation and cleansing processes</li>
                        <li>Critical for regulatory compliance and decision-making</li>
                    </ul>
                    
                    <h3>5. Value</h3>
                    <ul>
                        <li>Extracting meaningful insights from raw data</li>
                        <li>Converting data into actionable investment strategies</li>
                        <li>ROI measurement for data initiatives</li>
                        <li>Creating competitive advantages through data monetization</li>
                    </ul>
                    
                    <div class="example">
                        <div class="example-title">
                            <i class="fas fa-chart-line"></i>
                            Financial Market Example
                        </div>
                        <p>
                            A hedge fund processes:
                        </p>
                        <ul>
                            <li><strong>Volume:</strong> 100TB of market data daily</li>
                            <li><strong>Velocity:</strong> 1 million trades per second during peak hours</li>
                            <li><strong>Variety:</strong> Price data, news, social media, economic reports</li>
                            <li><strong>Veracity:</strong> Data quality checks and error correction</li>
                            <li><strong>Value:</strong> Generating 2% additional alpha through alternative data</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Data Processing -->
            <section id="data-processing" class="content-section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <h2 class="section-title">Data Processing and Storage Methods</h2>
                </div>
                <div class="section-content">
                    <p>
                        Processing big data requires specialized technologies and methodologies that differ 
                        significantly from traditional database systems and analytical approaches.
                    </p>
                    
                    <h3>Distributed Computing Frameworks</h3>
                    
                    <h4>Apache Hadoop</h4>
                    <ul>
                        <li>Distributed storage and processing of large datasets</li>
                        <li>Hadoop Distributed File System (HDFS)</li>
                        <li>MapReduce programming model</li>
                        <li>Cost-effective storage for historical financial data</li>
                    </ul>
                    
                    <h4>Apache Spark</h4>
                    <ul>
                        <li>In-memory processing for faster analytics</li>
                        <li>Real-time stream processing capabilities</li>
                        <li>Machine learning libraries (MLlib)</li>
                        <li>Ideal for quantitative analysis and model training</li>
                    </ul>
                    
                    <h3>Database Technologies</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Database Type</th>
                                    <th>Characteristics</th>
                                    <th>Financial Use Cases</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>NoSQL</strong></td>
                                    <td>Schema-less, horizontal scaling</td>
                                    <td>Social media sentiment, unstructured data</td>
                                </tr>
                                <tr>
                                    <td><strong>Time-Series DB</strong></td>
                                    <td>Optimized for time-stamped data</td>
                                    <td>Market data, trading analytics</td>
                                </tr>
                                <tr>
                                    <td><strong>Graph DB</strong></td>
                                    <td>Relationship-focused storage</td>
                                    <td>Risk networks, fraud detection</td>
                                </tr>
                                <tr>
                                    <td><strong>In-Memory DB</strong></td>
                                    <td>Ultra-fast data access</td>
                                    <td>Real-time trading, risk monitoring</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h3>Cloud Computing Platforms</h3>
                    <ul>
                        <li><strong>Amazon Web Services (AWS):</strong> Comprehensive big data services</li>
                        <li><strong>Google Cloud Platform:</strong> Machine learning and analytics tools</li>
                        <li><strong>Microsoft Azure:</strong> Enterprise-focused data solutions</li>
                        <li><strong>Hybrid Cloud:</strong> Combining on-premise and cloud resources</li>
                    </ul>
                    
                    <h3>Data Pipeline Architecture</h3>
                    <p>Modern financial institutions implement sophisticated data pipelines:</p>
                    <ol>
                        <li><strong>Data Ingestion:</strong> Real-time streaming and batch processing</li>
                        <li><strong>Data Storage:</strong> Data lakes and data warehouses</li>
                        <li><strong>Data Processing:</strong> ETL (Extract, Transform, Load) operations</li>
                        <li><strong>Data Analytics:</strong> Machine learning and statistical analysis</li>
                        <li><strong>Data Visualization:</strong> Dashboards and reporting tools</li>
                    </ol>
                </div>
            </section>

            <!-- Machine Learning -->
            <section id="machine-learning" class="content-section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <h2 class="section-title">Machine Learning in Finance</h2>
                </div>
                <div class="section-content">
                    <p>
                        Machine Learning (ML) enables financial institutions to automatically learn patterns 
                        from data without explicit programming, leading to more sophisticated analytical capabilities.
                    </p>
                    
                    <h3>Types of Machine Learning</h3>
                    
                    <h4>1. Supervised Learning</h4>
                    <ul>
                        <li>Training with labeled historical data</li>
                        <li>Predicting outcomes for new observations</li>
                        <li><strong>Classification:</strong> Credit scoring, fraud detection</li>
                        <li><strong>Regression:</strong> Stock price prediction, risk modeling</li>
                    </ul>
                    
                    <h4>2. Unsupervised Learning</h4>
                    <ul>
                        <li>Finding patterns in unlabeled data</li>
                        <li><strong>Clustering:</strong> Customer segmentation, portfolio optimization</li>
                        <li><strong>Dimensionality Reduction:</strong> Principal Component Analysis (PCA)</li>
                        <li><strong>Anomaly Detection:</strong> Market manipulation, operational risk</li>
                    </ul>
                    
                    <h4>3. Reinforcement Learning</h4>
                    <ul>
                        <li>Learning through interaction and feedback</li>
                        <li>Algorithmic trading strategies</li>
                        <li>Dynamic portfolio allocation</li>
                        <li>Robo-advisor decision-making</li>
                    </ul>
                    
                    <h3>Popular ML Algorithms in Finance</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Algorithm</th>
                                    <th>Type</th>
                                    <th>Financial Applications</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Linear Regression</strong></td>
                                    <td>Supervised</td>
                                    <td>Beta estimation, factor models</td>
                                </tr>
                                <tr>
                                    <td><strong>Random Forest</strong></td>
                                    <td>Supervised</td>
                                    <td>Credit scoring, return prediction</td>
                                </tr>
                                <tr>
                                    <td><strong>Support Vector Machine</strong></td>
                                    <td>Supervised</td>
                                    <td>Market direction prediction</td>
                                </tr>
                                <tr>
                                    <td><strong>K-Means Clustering</strong></td>
                                    <td>Unsupervised</td>
                                    <td>Asset classification, client segmentation</td>
                                </tr>
                                <tr>
                                    <td><strong>Neural Networks</strong></td>
                                    <td>Supervised/Reinforcement</td>
                                    <td>Complex pattern recognition</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="example">
                        <div class="example-title">
                            <i class="fas fa-brain"></i>
                            ML Credit Scoring Example
                        </div>
                        <p>
                            A bank uses Random Forest algorithm for credit scoring:
                        </p>
                        <ul>
                            <li><strong>Input features:</strong> Income, debt-to-income ratio, credit history, employment status</li>
                            <li><strong>Target variable:</strong> Default probability (0 or 1)</li>
                            <li><strong>Training:</strong> Historical data from 100,000 loan applications</li>
                            <li><strong>Validation:</strong> 80% accuracy on test set</li>
                            <li><strong>Deployment:</strong> Real-time scoring for new applications</li>
                        </ul>
                    </div>
                    
                    <h3>Model Validation and Risk Management</h3>
                    <ul>
                        <li><strong>Cross-validation:</strong> Ensuring model generalizability</li>
                        <li><strong>Backtesting:</strong> Historical performance evaluation</li>
                        <li><strong>Model interpretability:</strong> Understanding decision factors</li>
                        <li><strong>Regulatory compliance:</strong> Model risk management frameworks</li>
                    </ul>
                </div>
            </section>

            <!-- Artificial Intelligence -->
            <section id="artificial-intelligence" class="content-section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <h2 class="section-title">Artificial Intelligence and Deep Learning</h2>
                </div>
                <div class="section-content">
                    <p>
                        Artificial Intelligence (AI) and Deep Learning represent the cutting edge of financial 
                        technology, enabling sophisticated pattern recognition and automated decision-making.
                    </p>
                    
                    <h3>Deep Learning Architecture</h3>
                    
                    <h4>Neural Networks</h4>
                    <ul>
                        <li><strong>Feedforward Networks:</strong> Basic prediction models</li>
                        <li><strong>Recurrent Neural Networks (RNN):</strong> Time series analysis</li>
                        <li><strong>Long Short-Term Memory (LSTM):</strong> Long-term dependencies</li>
                        <li><strong>Convolutional Neural Networks (CNN):</strong> Pattern recognition</li>
                    </ul>
                    
                    <h3>AI Applications in Finance</h3>
                    
                    <h4>1. Natural Language Processing (NLP)</h4>
                    <ul>
                        <li>Sentiment analysis of news and social media</li>
                        <li>Automated report generation</li>
                        <li>Regulatory document analysis</li>
                        <li>Chatbots and virtual assistants</li>
                    </ul>
                    
                    <h4>2. Computer Vision</h4>
                    <ul>
                        <li>Chart pattern recognition</li>
                        <li>Satellite imagery for commodity trading</li>
                        <li>Document processing and verification</li>
                        <li>Biometric authentication systems</li>
                    </ul>
                    
                    <h4>3. Algorithmic Trading</h4>
                    <ul>
                        <li>High-frequency trading strategies</li>
                        <li>Market making algorithms</li>
                        <li>Portfolio rebalancing automation</li>
                        <li>Risk management systems</li>
                    </ul>
                    
                    <h3>Large Language Models (LLMs)</h3>
                    <p>Recent advances in AI have introduced powerful language models:</p>
                    <ul>
                        <li><strong>Financial Analysis:</strong> Automated research report generation</li>
                        <li><strong>Risk Assessment:</strong> Document analysis and summarization</li>
                        <li><strong>Client Service:</strong> Intelligent chatbots and advisors</li>
                        <li><strong>Compliance:</strong> Regulatory document processing</li>
                    </ul>
                    
                    <div class="note">
                        <div class="note-title">
                            <i class="fas fa-robot"></i>
                            AI Ethics and Governance
                        </div>
                        <p>
                            As AI becomes more prevalent in finance, institutions must address ethical 
                            considerations including bias, transparency, and accountability in automated decisions.
                        </p>
                    </div>
                    
                    <div class="example">
                        <div class="example-title">
                            <i class="fas fa-comments"></i>
                            NLP Sentiment Analysis
                        </div>
                        <p>
                            Investment firm uses NLP to analyze earnings call transcripts:
                        </p>
                        <ul>
                            <li><strong>Data source:</strong> 1,000+ quarterly earnings calls</li>
                            <li><strong>Processing:</strong> Speech-to-text conversion and sentiment scoring</li>
                            <li><strong>Features:</strong> Tone, confidence level, specific topics</li>
                            <li><strong>Output:</strong> Sentiment score from -1 (negative) to +1 (positive)</li>
                            <li><strong>Integration:</strong> Combined with traditional analysis for stock recommendations</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- FinTech Applications -->
            <section id="fintech-applications" class="content-section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <h2 class="section-title">FinTech and Digital Innovation</h2>
                </div>
                <div class="section-content">
                    <p>
                        Financial Technology (FinTech) leverages big data and AI to create innovative 
                        financial products and services, disrupting traditional business models.
                    </p>
                    
                    <h3>Key FinTech Applications</h3>
                    
                    <h4>1. Robo-Advisors</h4>
                    <ul>
                        <li>Automated portfolio management</li>
                        <li>Algorithm-driven asset allocation</li>
                        <li>Low-cost investment solutions</li>
                        <li>Tax-loss harvesting automation</li>
                    </ul>
                    
                    <h4>2. Digital Payments and Blockchain</h4>
                    <ul>
                        <li>Cryptocurrency trading platforms</li>
                        <li>Cross-border payment solutions</li>
                        <li>Smart contracts and DeFi protocols</li>
                        <li>Central Bank Digital Currencies (CBDCs)</li>
                    </ul>
                    
                    <h4>3. Alternative Lending</h4>
                    <ul>
                        <li>Peer-to-peer lending platforms</li>
                        <li>AI-driven credit assessment</li>
                        <li>Alternative data for underwriting</li>
                        <li>Real-time loan approval systems</li>
                    </ul>
                    
                    <h4>4. RegTech (Regulatory Technology)</h4>
                    <ul>
                        <li>Automated compliance monitoring</li>
                        <li>Anti-money laundering (AML) systems</li>
                        <li>Know Your Customer (KYC) automation</li>
                        <li>Real-time risk reporting</li>
                    </ul>
                    
                    <h3>Data Sources in FinTech</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data Type</th>
                                    <th>Sources</th>
                                    <th>Applications</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Transactional</strong></td>
                                    <td>Bank records, credit cards</td>
                                    <td>Spending patterns, creditworthiness</td>
                                </tr>
                                <tr>
                                    <td><strong>Social Media</strong></td>
                                    <td>Twitter, LinkedIn, Facebook</td>
                                    <td>Sentiment analysis, network analysis</td>
                                </tr>
                                <tr>
                                    <td><strong>Geolocation</strong></td>
                                    <td>Mobile devices, GPS</td>
                                    <td>Fraud detection, business analytics</td>
                                </tr>
                                <tr>
                                    <td><strong>Web Behavior</strong></td>
                                    <td>Browsing history, e-commerce</td>
                                    <td>Customer profiling, risk assessment</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h3>Digital Transformation Challenges</h3>
                    <ul>
                        <li><strong>Legacy System Integration:</strong> Connecting new technologies with existing infrastructure</li>
                        <li><strong>Data Privacy:</strong> GDPR, CCPA compliance requirements</li>
                        <li><strong>Cybersecurity:</strong> Protecting against increasing digital threats</li>
                        <li><strong>Regulatory Adaptation:</strong> Keeping pace with evolving regulations</li>
                    </ul>
                </div>
            </section>

            <!-- Data Science -->
            <section id="data-science" class="content-section">
                <div class="section-header">
                    <div class="section-number">7</div>
                    <h2 class="section-title">Data Science Workflow</h2>
                </div>
                <div class="section-content">
                    <p>
                        Data science in finance follows a structured methodology to extract insights 
                        and create value from complex datasets.
                    </p>
                    
                    <h3>The Data Science Process</h3>
                    
                    <h4>1. Problem Definition</h4>
                    <ul>
                        <li>Clearly define business objectives</li>
                        <li>Identify success metrics</li>
                        <li>Determine data requirements</li>
                        <li>Assess feasibility and resources</li>
                    </ul>
                    
                    <h4>2. Data Collection and Acquisition</h4>
                    <ul>
                        <li>Internal data: Trading systems, client records</li>
                        <li>External data: Market data vendors, alternative sources</li>
                        <li>Data quality assessment</li>
                        <li>Legal and compliance considerations</li>
                    </ul>
                    
                    <h4>3. Data Preparation and Cleaning</h4>
                    <ul>
                        <li>Handling missing values and outliers</li>
                        <li>Data normalization and standardization</li>
                        <li>Feature engineering and selection</li>
                        <li>Data transformation and aggregation</li>
                    </ul>
                    
                    <h4>4. Exploratory Data Analysis (EDA)</h4>
                    <ul>
                        <li>Statistical summaries and distributions</li>
                        <li>Correlation analysis and visualization</li>
                        <li>Pattern identification and hypothesis generation</li>
                        <li>Data quality validation</li>
                    </ul>
                    
                    <h4>5. Model Development</h4>
                    <ul>
                        <li>Algorithm selection and hyperparameter tuning</li>
                        <li>Training and validation procedures</li>
                        <li>Performance evaluation and comparison</li>
                        <li>Model interpretation and diagnostics</li>
                    </ul>
                    
                    <h4>6. Model Deployment and Monitoring</h4>
                    <ul>
                        <li>Production system integration</li>
                        <li>Real-time performance monitoring</li>
                        <li>Model degradation detection</li>
                        <li>Continuous improvement and retraining</li>
                    </ul>
                    
                    <div class="example">
                        <div class="example-title">
                            <i class="fas fa-cogs"></i>
                            Portfolio Optimization Project
                        </div>
                        <p>
                            Step-by-step data science approach to portfolio optimization:
                        </p>
                        <ol>
                            <li><strong>Problem:</strong> Improve risk-adjusted returns for equity portfolio</li>
                            <li><strong>Data:</strong> 10 years of daily returns for 500 stocks + alternative data</li>
                            <li><strong>Cleaning:</strong> Handle corporate actions, missing data, outliers</li>
                            <li><strong>EDA:</strong> Correlation matrices, return distributions, factor analysis</li>
                            <li><strong>Modeling:</strong> Machine learning enhanced mean-variance optimization</li>
                            <li><strong>Deployment:</strong> Automated daily rebalancing system</li>
                        </ol>
                    </div>
                    
                    <h3>Tools and Technologies</h3>
                    <ul>
                        <li><strong>Programming Languages:</strong> Python, R, SQL, Scala</li>
                        <li><strong>Data Processing:</strong> Pandas, NumPy, Apache Spark</li>
                        <li><strong>Machine Learning:</strong> Scikit-learn, TensorFlow, PyTorch</li>
                        <li><strong>Visualization:</strong> Matplotlib, Plotly, Tableau</li>
                        <li><strong>Version Control:</strong> Git, MLflow, DVC</li>
                    </ul>
                </div>
            </section>

            <!-- Visualization -->
            <section id="visualization" class="content-section">
                <div class="section-header">
                    <div class="section-number">8</div>
                    <h2 class="section-title">Data Visualization and Communication</h2>
                </div>
                <div class="section-content">
                    <p>
                        Effective data visualization transforms complex financial data into actionable insights, 
                        enabling better decision-making across all levels of an organization.
                    </p>
                    
                    <h3>Principles of Financial Data Visualization</h3>
                    
                    <h4>1. Clarity and Simplicity</h4>
                    <ul>
                        <li>Focus on key messages and insights</li>
                        <li>Avoid chart junk and unnecessary complexity</li>
                        <li>Use appropriate chart types for data</li>
                        <li>Maintain consistent design standards</li>
                    </ul>
                    
                    <h4>2. Accuracy and Integrity</h4>
                    <ul>
                        <li>Honest representation of data</li>
                        <li>Proper scaling and axis labels</li>
                        <li>Clear indication of data sources</li>
                        <li>Acknowledgment of limitations</li>
                    </ul>
                    
                    <h3>Common Visualization Types in Finance</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Visualization Type</th>
                                    <th>Best Used For</th>
                                    <th>Financial Examples</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Line Charts</strong></td>
                                    <td>Time series data</td>
                                    <td>Price movements, performance tracking</td>
                                </tr>
                                <tr>
                                    <td><strong>Bar Charts</strong></td>
                                    <td>Comparing categories</td>
                                    <td>Sector performance, portfolio allocation</td>
                                </tr>
                                <tr>
                                    <td><strong>Scatter Plots</strong></td>
                                    <td>Relationships between variables</td>
                                    <td>Risk-return analysis, correlation</td>
                                </tr>
                                <tr>
                                    <td><strong>Heatmaps</strong></td>
                                    <td>Matrix data, correlations</td>
                                    <td>Correlation matrices, risk maps</td>
                                </tr>
                                <tr>
                                    <td><strong>Candlestick Charts</strong></td>
                                    <td>OHLC price data</td>
                                    <td>Technical analysis, trading patterns</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h3>Interactive Dashboards</h3>
                    <ul>
                        <li><strong>Real-time Updates:</strong> Live market data and portfolio performance</li>
                        <li><strong>Drill-down Capabilities:</strong> From portfolio to individual securities</li>
                        <li><strong>Filtering and Customization:</strong> User-specific views and preferences</li>
                        <li><strong>Mobile Responsiveness:</strong> Access across different devices</li>
                    </ul>
                    
                    <h3>Advanced Visualization Techniques</h3>
                    
                    <h4>1. Network Graphs</h4>
                    <ul>
                        <li>Visualizing complex relationships</li>
                        <li>Risk contagion analysis</li>
                        <li>Trading network analysis</li>
                        <li>Counterparty exposure mapping</li>
                    </ul>
                    
                    <h4>2. Geographic Visualization</h4>
                    <ul>
                        <li>Global portfolio exposure maps</li>
                        <li>Regional performance comparisons</li>
                        <li>Economic indicator mapping</li>
                        <li>Regulatory landscape visualization</li>
                    </ul>
                    
                    <h4>3. Statistical Plots</h4>
                    <ul>
                        <li>Distribution plots for risk analysis</li>
                        <li>Box plots for outlier detection</li>
                        <li>Q-Q plots for normality testing</li>
                        <li>Residual plots for model validation</li>
                    </ul>
                    
                    <div class="note">
                        <div class="note-title">
                            <i class="fas fa-eye"></i>
                            Cognitive Load Management
                        </div>
                        <p>
                            Financial professionals process large amounts of information daily. 
                            Effective visualization reduces cognitive load and enables faster, 
                            more accurate decision-making.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Ethics and Governance -->
            <section id="ethics-governance" class="content-section">
                <div class="section-header">
                    <div class="section-number">9</div>
                    <h2 class="section-title">Data Ethics and Governance</h2>
                </div>
                <div class="section-content">
                    <p>
                        As financial institutions increasingly rely on big data and AI, establishing 
                        robust data governance and ethical frameworks becomes critical for sustainable success.
                    </p>
                    
                    <h3>Data Governance Framework</h3>
                    
                    <h4>1. Data Quality Management</h4>
                    <ul>
                        <li>Data accuracy and completeness standards</li>
                        <li>Regular data quality assessments</li>
                        <li>Data lineage and documentation</li>
                        <li>Error detection and correction procedures</li>
                    </ul>
                    
                    <h4>2. Data Security and Privacy</h4>
                    <ul>
                        <li>Encryption and access controls</li>
                        <li>Privacy-preserving techniques</li>
                        <li>Data anonymization and pseudonymization</li>
                        <li>Compliance with GDPR, CCPA, and other regulations</li>
                    </ul>
                    
                    <h4>3. Data Lifecycle Management</h4>
                    <ul>
                        <li>Data retention and archival policies</li>
                        <li>Data deletion and right to be forgotten</li>
                        <li>Backup and disaster recovery</li>
                        <li>Data migration and system upgrades</li>
                    </ul>
                    
                    <h3>Ethical Considerations</h3>
                    
                    <h4>1. Algorithmic Bias and Fairness</h4>
                    <ul>
                        <li>Identifying and mitigating bias in models</li>
                        <li>Fair lending and credit scoring practices</li>
                        <li>Diverse and representative training data</li>
                        <li>Regular bias audits and testing</li>
                    </ul>
                    
                    <h4>2. Transparency and Explainability</h4>
                    <ul>
                        <li>Model interpretability requirements</li>
                        <li>Clear communication of AI decisions</li>
                        <li>Right to explanation for automated decisions</li>
                        <li>Documentation of model limitations</li>
                    </ul>
                    
                    <h4>3. Accountability and Responsibility</h4>
                    <ul>
                        <li>Clear ownership of AI systems</li>
                        <li>Human oversight and intervention capabilities</li>
                        <li>Audit trails for AI decisions</li>
                        <li>Incident response procedures</li>
                    </ul>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Ethical Principle</th>
                                    <th>Implementation</th>
                                    <th>Financial Context</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Fairness</strong></td>
                                    <td>Bias testing and mitigation</td>
                                    <td>Equal access to financial services</td>
                                </tr>
                                <tr>
                                    <td><strong>Transparency</strong></td>
                                    <td>Explainable AI models</td>
                                    <td>Clear loan denial reasons</td>
                                </tr>
                                <tr>
                                    <td><strong>Privacy</strong></td>
                                    <td>Data minimization principles</td>
                                    <td>Client data protection</td>
                                </tr>
                                <tr>
                                    <td><strong>Accountability</strong></td>
                                    <td>Human oversight mechanisms</td>
                                    <td>Responsible investment decisions</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h3>Regulatory Compliance</h3>
                    <ul>
                        <li><strong>Model Risk Management:</strong> SR 11-7 guidelines (US Federal Reserve)</li>
                        <li><strong>AI Governance:</strong> Emerging regulatory frameworks</li>
                        <li><strong>Data Protection:</strong> GDPR, CCPA, sector-specific regulations</li>
                        <li><strong>Consumer Protection:</strong> Fair lending laws, discrimination prevention</li>
                    </ul>
                    
                    <div class="note">
                        <div class="note-title">
                            <i class="fas fa-balance-scale"></i>
                            Balancing Innovation and Risk
                        </div>
                        <p>
                            Financial institutions must balance the benefits of big data and AI 
                            with potential risks to clients, markets, and society. This requires 
                            ongoing dialogue between technologists, risk managers, and regulators.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Challenges -->
            <section id="challenges" class="content-section">
                <div class="section-header">
                    <div class="section-number">10</div>
                    <h2 class="section-title">Challenges and Future Outlook</h2>
                </div>
                <div class="section-content">
                    <p>
                        While big data techniques offer tremendous opportunities, financial institutions 
                        face significant challenges in implementation and must prepare for future developments.
                    </p>
                    
                    <h3>Current Challenges</h3>
                    
                    <h4>1. Technical Challenges</h4>
                    <ul>
                        <li><strong>Data Integration:</strong> Combining disparate data sources and formats</li>
                        <li><strong>Scalability:</strong> Processing ever-increasing data volumes</li>
                        <li><strong>Real-time Processing:</strong> Low-latency requirements for trading</li>
                        <li><strong>Model Complexity:</strong> Managing sophisticated AI systems</li>
                    </ul>
                    
                    <h4>2. Organizational Challenges</h4>
                    <ul>
                        <li><strong>Skills Gap:</strong> Shortage of data scientists and AI specialists</li>
                        <li><strong>Cultural Change:</strong> Adopting data-driven decision making</li>
                        <li><strong>Legacy Systems:</strong> Integrating with existing infrastructure</li>
                        <li><strong>Change Management:</strong> Transforming business processes</li>
                    </ul>
                    
                    <h4>3. Regulatory and Risk Challenges</h4>
                    <ul>
                        <li><strong>Model Risk:</strong> Ensuring reliability and stability</li>
                        <li><strong>Regulatory Uncertainty:</strong> Evolving compliance requirements</li>
                        <li><strong>Data Quality:</strong> Ensuring accuracy and completeness</li>
                        <li><strong>Cybersecurity:</strong> Protecting against increasing threats</li>
                    </ul>
                    
                    <h3>Future Trends</h3>
                    
                    <h4>1. Quantum Computing</h4>
                    <ul>
                        <li>Revolutionary computational capabilities</li>
                        <li>Portfolio optimization breakthroughs</li>
                        <li>Risk simulation improvements</li>
                        <li>Cryptography and security implications</li>
                    </ul>
                    
                    <h4>2. Edge Computing</h4>
                    <ul>
                        <li>Processing data closer to source</li>
                        <li>Reduced latency for trading applications</li>
                        <li>Enhanced privacy and security</li>
                        <li>IoT device integration</li>
                    </ul>
                    
                    <h4>3. Federated Learning</h4>
                    <ul>
                        <li>Training models without centralizing data</li>
                        <li>Enhanced privacy protection</li>
                        <li>Collaborative model development</li>
                        <li>Regulatory compliance benefits</li>
                    </ul>
                    
                    <h4>4. Extended Reality (XR)</h4>
                    <ul>
                        <li>Immersive data visualization</li>
                        <li>Enhanced trading interfaces</li>
                        <li>Virtual collaboration platforms</li>
                        <li>Training and simulation applications</li>
                    </ul>
                    
                    <div class="example">
                        <div class="example-title">
                            <i class="fas fa-crystal-ball"></i>
                            Future Investment Advisor
                        </div>
                        <p>
                            Vision for next-generation investment management:
                        </p>
                        <ul>
                            <li><strong>AI-Powered Analysis:</strong> Real-time processing of global data streams</li>
                            <li><strong>Quantum Optimization:</strong> Complex portfolio optimization in seconds</li>
                            <li><strong>Personalized Service:</strong> Hyper-personalized investment strategies</li>
                            <li><strong>Ethical AI:</strong> Transparent, explainable, and fair algorithms</li>
                            <li><strong>Regulatory Integration:</strong> Automated compliance monitoring</li>
                        </ul>
                    </div>
                    
                    <h3>Preparing for the Future</h3>
                    <ul>
                        <li><strong>Continuous Learning:</strong> Staying updated with technological advances</li>
                        <li><strong>Strategic Planning:</strong> Long-term technology roadmaps</li>
                        <li><strong>Talent Development:</strong> Investing in data science capabilities</li>
                        <li><strong>Partnerships:</strong> Collaborating with technology providers</li>
                        <li><strong>Experimentation:</strong> Pilot projects and proof of concepts</li>
                    </ul>
                </div>
            </section>

            <!-- Summary -->
            <section id="summary" class="content-section">
                <div class="section-header">
                    <div class="section-number">11</div>
                    <h2 class="section-title">Chapter Summary</h2>
                </div>
                <div class="section-content">
                    <h3>Key Learning Points</h3>
                    <ul>
                        <li><strong>Big Data Revolution:</strong> Transforming finance through volume, velocity, variety, veracity, and value</li>
                        <li><strong>Machine Learning:</strong> Enabling automated pattern recognition and decision-making</li>
                        <li><strong>Artificial Intelligence:</strong> Advanced capabilities in NLP, computer vision, and deep learning</li>
                        <li><strong>FinTech Innovation:</strong> Disrupting traditional financial services with technology</li>
                        <li><strong>Data Science Methodology:</strong> Structured approach to extracting insights from data</li>
                    </ul>
                    
                    <h3>Financial Applications</h3>
                    <ul>
                        <li>Algorithmic trading and high-frequency trading</li>
                        <li>Risk management and regulatory compliance</li>
                        <li>Credit scoring and alternative lending</li>
                        <li>Robo-advisors and automated portfolio management</li>
                        <li>Fraud detection and cybersecurity</li>
                        <li>Customer segmentation and personalization</li>
                    </ul>
                    
                    <h3>Critical Success Factors</h3>
                    <ul>
                        <li><strong>Data Quality:</strong> Ensuring accuracy, completeness, and reliability</li>
                        <li><strong>Model Validation:</strong> Rigorous testing and performance monitoring</li>
                        <li><strong>Ethical Framework:</strong> Addressing bias, transparency, and accountability</li>
                        <li><strong>Regulatory Compliance:</strong> Meeting evolving regulatory requirements</li>
                        <li><strong>Human Oversight:</strong> Maintaining appropriate human judgment and control</li>
                    </ul>
                    
                    <h3>Technology Stack</h3>
                    <ul>
                        <li><strong>Storage:</strong> Data lakes, warehouses, distributed systems</li>
                        <li><strong>Processing:</strong> Hadoop, Spark, cloud computing platforms</li>
                        <li><strong>Analytics:</strong> Machine learning libraries, deep learning frameworks</li>
                        <li><strong>Visualization:</strong> Interactive dashboards, advanced charting tools</li>
                        <li><strong>Deployment:</strong> MLOps, containerization, API management</li>
                    </ul>
                    
                    <h3>Future Implications for CFA Professionals</h3>
                    <ul>
                        <li>Enhanced analytical capabilities and insights</li>
                        <li>Increased focus on data literacy and technology skills</li>
                        <li>Evolution of traditional investment analysis methods</li>
                        <li>New career paths in quantitative finance and data science</li>
                        <li>Greater emphasis on ethical and responsible investing</li>
                    </ul>
                    
                    <h3>Conclusion</h3>
                    <p>
                        Big data techniques represent a fundamental shift in how financial analysis 
                        is conducted. While traditional quantitative methods remain important, the 
                        integration of machine learning, artificial intelligence, and advanced 
                        analytics is creating new opportunities for alpha generation, risk management, 
                        and client service. Success in this evolving landscape requires continuous 
                        learning, ethical awareness, and a balanced approach that combines 
                        technological innovation with sound financial principles.
                    </p>
                    
                    <div class="note">
                        <div class="note-title">
                            <i class="fas fa-graduation-cap"></i>
                            Continuing Education
                        </div>
                        <p>
                            The rapid pace of technological change means that professionals must 
                            commit to lifelong learning. Stay current with developments in data 
                            science, machine learning, and financial technology to remain competitive 
                            in the evolving financial services landscape.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Chapter Navigation -->
            <div class="chapter-nav">
                <a href="chapter10.html" class="nav-button">
                    <i class="fas fa-arrow-left"></i>
                    Previous: Simple Linear Regression
                </a>
                <a href="index.html" class="nav-button">
                    <i class="fas fa-home"></i>
                    Back to Index
                </a>
                <span class="nav-button disabled">
                    <i class="fas fa-flag-checkered"></i>
                    Course Complete!
                </span>
            </div>
        </main>
    </div>

    <script>
        // Table of Contents functionality
        function updateTOC() {
            const sections = document.querySelectorAll('.content-section');
            const tocLinks = document.querySelectorAll('.toc-list a');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= 150 && rect.bottom >= 150) {
                    currentSection = section.id;
                }
            });
            
            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSection}`) {
                    link.classList.add('active');
                }
            });
        }

        // Smooth scrolling for TOC links
        document.querySelectorAll('.toc-list a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Update TOC on scroll
        window.addEventListener('scroll', updateTOC);
        
        // Initialize TOC
        updateTOC();
        
        // Progress tracking
        function markChapterAsRead() {
            const readChapters = JSON.parse(localStorage.getItem('readChapters') || '[]');
            if (!readChapters.includes(11)) {
                readChapters.push(11);
                localStorage.setItem('readChapters', JSON.stringify(readChapters));
            }
        }
        
        // Mark as read when user scrolls to bottom
        let hasMarkedAsRead = false;
        window.addEventListener('scroll', function() {
            if (!hasMarkedAsRead && (window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100) {
                markChapterAsRead();
                hasMarkedAsRead = true;
                
                // Show completion message
                if (confirm('Congratulations! You have completed all 11 chapters of CFA Level 1 Quantitative Analysis. Would you like to return to the main index to review your progress?')) {
                    window.location.href = 'index.html';
                }
            }
        });
    </script>
</body>
</html>