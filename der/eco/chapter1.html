<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CFA Economics: The Firm and Market Structures</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
        }
        
        /* Navigation Styles */
        .chapter-nav {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .floating-toc {
            position: fixed;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .toc-item {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .toc-item.active {
            background: linear-gradient(135deg, #3182ce, #2c5282);
            color: white;
            transform: translateX(-5px);
        }
        
        /* Enhanced Content Styles */
        .content-section {
            margin-bottom: 3rem;
            padding: 2.5rem;
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
            position: relative;
            overflow: hidden;
        }
        
        .content-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3182ce, #2c5282, #1e40af);
        }
        
        .table-container {
            overflow-x: auto;
            margin-top: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            text-align: left;
            padding: 1rem 1.25rem;
            border-bottom: 1px solid #e2e8f0;
        }
        th {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            font-weight: 600;
            color: #2d3748;
        }
        tbody tr:hover {
            background-color: #f8fafc;
            transform: translateX(2px);
            transition: all 0.2s ease;
        }
        .callout {
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin: 1.75rem 0;
            position: relative;
        }
        .callout::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 5px;
            border-radius: 0 0.75rem 0.75rem 0;
        }
        .callout-note {
            background: linear-gradient(135deg, #ebf8ff, #dbeafe);
            color: #1e40af;
        }
        .callout-note::before {
            background: #3182ce;
        }
        .callout-warning {
            background: linear-gradient(135deg, #fffaf0, #fef3c7);
            color: #92400e;
        }
        .callout-warning::before {
            background: #dd6b20;
        }
        .callout-success {
            background: linear-gradient(135deg, #f0fff4, #dcfce7);
            color: #166534;
        }
        .callout-success::before {
            background: #38a169;
        }
        .header-gradient {
            background: linear-gradient(135deg, #3182ce, #2c5282);
            color: white;
            padding: 4rem 2rem;
            border-radius: 1rem;
            margin-bottom: 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header-gradient::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="%23ffffff" opacity="0.05"><polygon points="0,0 1000,50 1000,100 0,100"></polygon></svg>');
            background-size: cover;
        }
        .header-gradient h1 {
            color: white;
            font-weight: 800;
            font-size: 3rem;
            margin-bottom: 1rem;
            position: relative;
        }
        .header-gradient p {
            color: #e2e8f0;
            font-size: 1.25rem;
            margin-top: 0.5rem;
            position: relative;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        .section-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3182ce, #2c5282);
            color: white;
            border-radius: 12px;
            margin-right: 1rem;
            font-size: 1.5rem;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(49, 130, 206, 0.3);
        }
        .key-point {
            background: linear-gradient(135deg, #f8fafc, #edf2f7);
            padding: 1.25rem;
            border-radius: 0.75rem;
            margin: 1.25rem 0;
            border-left: 4px solid #3182ce;
            transition: all 0.3s ease;
        }
        .key-point:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        .key-point-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #2d3748;
        }
        .progress-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            position: sticky;
            top: 100px;
            z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        .progress-steps {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            position: relative;
            max-width: 800px;
            width: 100%;
        }
        .progress-steps::before {
            content: "";
            position: absolute;
            top: 25px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #e2e8f0, #3182ce, #e2e8f0);
            z-index: 1;
        }
        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
            min-width: 120px;
        }
        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: white;
            border: 3px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-bottom: 0.75rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }
        .step-label {
            text-align: center;
            font-weight: 500;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }
        .active-step .step-circle {
            background: linear-gradient(135deg, #3182ce, #2c5282);
            border-color: #3182ce;
            color: white;
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(49, 130, 206, 0.3);
        }
        .active-step .step-label {
            color: #3182ce;
            font-weight: 600;
        }
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        .card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3182ce, #2c5282);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border-color: #3182ce;
        }
        .card:hover::before {
            transform: translateX(0);
        }
        .card-title {
            font-weight: 600;
            font-size: 1.125rem;
            margin-bottom: 0.75rem;
            color: #2d3748;
        }
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e2e8f0;
            position: relative;
        }
        .section-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, #3182ce, #2c5282);
        }
        .section-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: #1a202c;
            background: linear-gradient(135deg, #1a202c, #2d3748);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 1rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }
        .highlight-box::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: rotate(45deg);
        }
        .highlight-title {
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }
        .definition {
            background: linear-gradient(135deg, #f8fafc, #edf2f7);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            border-left: 4px solid #3182ce;
            position: relative;
        }
        .definition::before {
            content: '💡';
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
        }
        .definition-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #2d3748;
        }
        .section-subtitle {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2d3748;
            margin: 2rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e2e8f0;
            position: relative;
        }
        .section-subtitle::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 50px;
            height: 2px;
            background: linear-gradient(90deg, #3182ce, #2c5282);
        }
        .policy-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin-bottom: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        .policy-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3182ce, #2c5282);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        .policy-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        .policy-card:hover::before {
            transform: scaleX(1);
        }
        .policy-title {
            font-weight: 600;
            color: #2c5282;
            font-size: 1.25rem;
            margin-bottom: 0.75rem;
        }
        .example {
            border: 1px solid #e2e8f0;
            padding: 1.75rem;
            margin-top: 1.5rem;
            border-radius: 0.75rem;
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            position: relative;
            overflow: hidden;
        }
        .example::before {
            content: '📊';
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            opacity: 0.7;
        }
        .example-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
        }
        .example-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(135deg, #3182ce, #2c5282);
            margin-right: 0.5rem;
            border-radius: 2px;
        }
        .formula {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
            padding: 1.5rem;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 0.75rem;
            border-left: 5px solid #3182ce;
            font-size: 1.25rem;
            line-height: 1.5;
            position: relative;
            overflow: hidden;
        }
        .formula::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, rgba(49, 130, 206, 0.1), transparent);
            border-radius: 0 0.75rem 0 50px;
        }
        .formula-main {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2d3748;
        }
        .fraction {
            display: inline-block;
            text-align: center;
            vertical-align: middle;
            margin: 0 0.3rem;
        }
        .numerator {
            display: block;
            border-bottom: 2px solid #2d3748;
            padding-bottom: 0.15rem;
            margin-bottom: 0.15rem;
        }
        .denominator {
            display: block;
            padding-top: 0.15rem;
        }
        
        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3182ce, #2c5282);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            z-index: 1000;
        }
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(49, 130, 206, 0.3);
        }
        
        @media (max-width: 768px) {
            .content-section {
                padding: 1.5rem;
            }
            .header-gradient h1 {
                font-size: 2rem;
            }
            .header-gradient p {
                font-size: 1rem;
            }
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .section-number {
                margin-bottom: 1rem;
            }
            .floating-toc {
                display: none;
            }
            .progress-container {
                position: relative;
                top: 0;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-700">

    <!-- Navigation Bar -->
    <nav class="chapter-nav fixed top-0 left-0 right-0 z-50 px-4 py-3">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <a href="index.html" class="flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors">
                    <i class="fas fa-arrow-left"></i>
                    <span class="font-semibold">Back to Chapters</span>
                </a>
                <div class="h-6 w-px bg-gray-300"></div>
                <h1 class="text-lg font-semibold text-gray-800">Chapter 1: Market Structures</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button id="toggleToc" class="lg:hidden p-2 text-gray-600 hover:text-blue-600 transition-colors">
                    <i class="fas fa-list"></i>
                </button>
                <div class="flex space-x-2">
                    <a href="chapter2.html" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                        Next Chapter <i class="fas fa-arrow-right ml-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Floating Table of Contents -->
    <div class="floating-toc hidden lg:block">
        <div class="bg-white rounded-lg shadow-xl p-4 w-64 max-h-96 overflow-y-auto">
            <h3 class="font-semibold text-gray-800 mb-3 flex items-center">
                <i class="fas fa-list mr-2 text-blue-600"></i>
                Table of Contents
            </h3>
            <div class="space-y-2">
                <div class="toc-item active px-3 py-2 rounded text-sm cursor-pointer transition-all" data-section="section1">
                    1. Introduction
                </div>
                <div class="toc-item px-3 py-2 rounded text-sm cursor-pointer transition-all hover:bg-gray-100" data-section="section2">
                    2. Profit Maximization
                </div>
                <div class="toc-item px-3 py-2 rounded text-sm cursor-pointer transition-all hover:bg-gray-100" data-section="section3">
                    3. Economies of Scale
                </div>
                <div class="toc-item px-3 py-2 rounded text-sm cursor-pointer transition-all hover:bg-gray-100" data-section="section4">
                    4. Market Structures
                </div>
                <div class="toc-item px-3 py-2 rounded text-sm cursor-pointer transition-all hover:bg-gray-100" data-section="section5">
                    5. Monopolistic Competition
                </div>
                <div class="toc-item px-3 py-2 rounded text-sm cursor-pointer transition-all hover:bg-gray-100" data-section="section6">
                    6. Oligopoly
                </div>
                <div class="toc-item px-3 py-2 rounded text-sm cursor-pointer transition-all hover:bg-gray-100" data-section="section7">
                    7. Market Analysis
                </div>
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <div class="max-w-5xl mx-auto px-4 py-8 pt-24">
        <header class="header-gradient text-center rounded-lg mb-10">
            <h1 class="text-4xl font-bold">The Firm and Market Structures</h1>
            <p>An Intuitive Guide to CFA Economics Concepts</p>
        </header>

        
        <!-- 1. Introduction -->
        <div class="content-section" id="section1">
            <div class="section-header">
                <div class="section-number">1</div>
                <h2 class="section-title">Introduction to the Module</h2>
            </div>
            
            <p class="text-lg mb-6">Welcome! This guide breaks down the essential concepts related to firms and the markets they operate in. We will explore how firms make decisions to maximize profit and how their behavior changes based on the structure of their market.</p>
            
            <div class="card-grid">
                <div class="card">
                    <h3 class="card-title">Demand and Supply Concepts</h3>
                    <p>Understanding what drives consumer demand and a firm's willingness to produce.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Profit Maximization</h3>
                    <p>The core goal of every firm and the key decision points like when to produce, when to break even, and when to shut down.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Economies of Scale</h3>
                    <p>Why bigger isn't always better, and how production costs change with scale.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Market Structures</h3>
                    <p>A deep dive into the four main types of markets: Perfect Competition, Monopolistic Competition, Oligopoly, and Monopoly.</p>
                </div>
            </div>
        </div>

        <!-- 2. Profit Maximization -->
        <div class="content-section" id="section2">
            <div class="section-header">
                <div class="section-number">2</div>
                <h2 class="section-title">Profit Maximization, Breakeven, and Shutdown Analysis</h2>
            </div>
            
            <h3 class="section-subtitle">Revenue Under Different Market Conditions</h3>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="card-title">Under Perfect Competition</h3>
                    <p>In a perfectly competitive market, firms are "price takers." They have no power to influence the market price and must accept it as given.</p>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li><strong>Demand Curve:</strong> The demand curve for a single firm is perfectly horizontal (perfectly elastic). This means they can sell as much as they want at the market price.</li>
                        <li><strong>Total Revenue (TR) Curve:</strong> Since the price is constant, the Total Revenue curve is a straight, upward-sloping line. For every additional unit sold, total revenue increases by the price of that unit.</li>
                    </ul>
                </div>
                <div class="card">
                    <h3 class="card-title">Under Imperfect Competition</h3>
                    <p>Firms in these markets have some control over their price. To sell more, they must lower the price.</p>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li><strong>Demand Curve:</strong> The demand curve is downward-sloping.</li>
                        <li><strong>Total Revenue (TR) Curve:</strong> The TR curve is shaped like an inverted 'U'.
                            <ul class="list-circle list-inside ml-4 mt-1">
                                <li>It rises when Marginal Revenue (MR) is positive (and demand is elastic).</li>
                                <li>It falls when Marginal Revenue (MR) is negative (and demand is inelastic).</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <h3 class="section-subtitle">Key Production Decisions</h3>
            <p>The fundamental rule for maximizing profit is to produce the quantity of output where <strong>Marginal Revenue (MR) equals Marginal Cost (MC)</strong>. This is the point where the revenue from selling one more unit exactly equals the cost of producing it.</p>
            
            <div class="card-grid">
                <div class="card">
                    <h3 class="card-title">Profit Maximization Point</h3>
                    <p>Produce quantity (Q) where MR = MC. In perfect competition, since Price (P) = MR, the rule is <strong>P = MC</strong>, as long as the marginal cost curve is rising.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Breakeven Point</h3>
                    <p>This occurs where <strong>Total Revenue (TR) = Total Cost (TC)</strong>. At this point, the firm earns zero economic profit (it earns a "normal profit," which means it's covering all its costs, including the opportunity cost of capital). This is also the point where Price (P) = minimum Average Total Cost (ATC).</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Shutdown Point (Short-Run)</h3>
                    <p>A firm should temporarily shut down if it cannot even cover its variable costs. This occurs if Price (P) falls below the minimum Average Variable Cost (AVC). Sunk costs (fixed costs that can't be recovered) should be ignored when making this short-run decision.</p>
                </div>
            </div>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Revenue vs. Cost Relationship</th>
                            <th>Short-Run (SR) Decision</th>
                            <th>Long-Run (LR) Decision</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>TR ≥ TC (Earning positive or normal profit)</td>
                            <td class="text-green-600 font-medium">Stay in the market</td>
                            <td class="text-green-600 font-medium">Stay in the market</td>
                        </tr>
                        <tr>
                            <td>TVC ≤ TR < TC (Losing money, but covering variable costs)</td>
                            <td class="text-yellow-600 font-medium">Stay in the market (minimize losses)</td>
                            <td class="text-red-600 font-medium">Exit the market</td>
                        </tr>
                        <tr>
                            <td>TR < TVC (Not even covering variable costs)</td>
                            <td class="text-red-600 font-medium">Shut down production</td>
                            <td class="text-red-600 font-medium">Exit the market</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 3. Economies of Scale -->
        <div class="content-section" id="section3">
            <div class="section-header">
                <div class="section-number">3</div>
                <h2 class="section-title">Understanding Economies and Diseconomies of Scale</h2>
            </div>
            
            <h3 class="section-subtitle">Short-Run vs. Long-Run Costs</h3>
            
            <div class="card-grid">
                <div class="card">
                    <h3 class="card-title">Short-Run</h3>
                    <p>A time period where at least one factor of production (like the factory size) is fixed. The firm operates on a specific Short-Run Average Total Cost (SATC) curve.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Long-Run</h3>
                    <p>A time period where all factors of production are variable. The firm can choose any factory size it wants. The Long-Run Average Total Cost (LATC) curve is made up of the minimum points of all possible SATC curves.</p>
                </div>
            </div>

            <h3 class="section-subtitle">Defining Economies and Diseconomies of Scale</h3>
            <p>The shape of the LATC curve tells us about returns to scale.</p>
            
            <div class="card-grid">
                <div class="card">
                    <h3 class="card-title">Economies of Scale</h3>
                    <p>This occurs when increasing the scale of production leads to a <strong>decrease</strong> in the long-run average cost per unit. This happens because of factors like specialization, bulk purchasing, and more efficient use of large-scale equipment. The LATC curve is <strong>downward-sloping</strong>.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Diseconomies of Scale</h3>
                    <p>This occurs when increasing the scale of production leads to an <strong>increase</strong> in the long-run average cost per unit. This is often due to management complexity, coordination problems, and communication breakdowns in a very large organization. The LATC curve is <strong>upward-sloping</strong>.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Constant Returns to Scale</h3>
                    <p>This is the flat portion of the LATC curve where long-run average cost remains constant as output increases.</p>
                </div>
            </div>
        </div>
        
        <!-- 4. Introduction to Market Structures -->
        <div class="content-section" id="section4">
            <div class="section-header">
                <div class="section-number">4</div>
                <h2 class="section-title">Introduction to Market Structures</h2>
            </div>
            
            <p class="text-lg mb-6">The structure of a market is defined by several key factors. Understanding these factors helps us predict firm behavior regarding pricing, production, and profitability.</p>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Characteristic</th>
                            <th>Perfect Competition</th>
                            <th>Monopolistic Competition</th>
                            <th>Oligopoly</th>
                            <th>Monopoly</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Number of Sellers</strong></td>
                            <td>Very Many</td>
                            <td>Many</td>
                            <td>Few</td>
                            <td>One</td>
                        </tr>
                        <tr>
                            <td><strong>Product Differentiation</strong></td>
                            <td>Homogeneous / Standardized (Identical)</td>
                            <td>Differentiated (e.g., by brand, quality)</td>
                            <td>Can be standardized or differentiated</td>
                            <td>Unique Product (no close substitutes)</td>
                        </tr>
                        <tr>
                            <td><strong>Barriers to Entry</strong></td>
                            <td>Very Low / None</td>
                            <td>Low</td>
                            <td>High</td>
                            <td>Very High / Blocked</td>
                        </tr>
                        <tr>
                            <td><strong>Pricing Power of Firm</strong></td>
                            <td>None (Price Taker)</td>
                            <td>Some</td>
                            <td>Some or Considerable (Interdependent)</td>
                            <td>Considerable (Price Setter)</td>
                        </tr>
                        <tr>
                            <td><strong>Non-Price Competition</strong></td>
                            <td>None</td>
                            <td>Advertising, branding, product features</td>
                            <td>Significant advertising and differentiation</td>
                            <td>Advertising to build brand image</td>
                        </tr>
                         <tr>
                            <td><strong>Firm's Demand Curve</strong></td>
                            <td>Perfectly Elastic (Horizontal)</td>
                            <td>Elastic but Downward-Sloping</td>
                            <td>Kinked or indeterminate (depends on rivals' reactions)</td>
                            <td>Inelastic, Downward-Sloping (Market Demand)</td>
                        </tr>
                        <tr>
                            <td><strong>Long-Run Profit</strong></td>
                            <td>Zero Economic Profit</td>
                            <td>Zero Economic Profit</td>
                            <td>Can be Positive</td>
                            <td>Can be Positive (High)</td>
                        </tr>
                         <tr>
                            <td><strong>Efficiency</strong></td>
                            <td>Highly Efficient</td>
                            <td>Less Efficient (due to excess capacity)</td>
                            <td>Less Efficient</td>
                            <td>Inefficient</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 5. Monopolistic Competition -->
        <div class="content-section" id="section5">
            <div class="section-header">
                <div class="section-number">5</div>
                <h2 class="section-title">A Closer Look: Monopolistic Competition</h2>
            </div>
            
            <h3 class="section-subtitle">Key Characteristics</h3>
            
            <div class="card-grid">
                <div class="card">
                    <h3 class="card-title">Many Buyers and Sellers</h3>
                    <p>Similar to perfect competition, there are numerous firms.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Differentiated Products</h3>
                    <p>This is the key difference. Firms compete by making their products distinct through branding, quality, or features (e.g., restaurants, hairdressers).</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Low Barriers to Entry and Exit</h3>
                    <p>New firms can enter the market with relative ease.</p>
                </div>
            </div>

            <h3 class="section-subtitle">Demand and Profit in the Short and Long Run</h3>
            <p>Because products are differentiated, each firm faces a downward-sloping demand curve. They have some control over price, which means <strong>Price > Marginal Cost</strong>. However, there is no well-defined supply curve because the output decision depends on the demand curve.</p>
            
            <div class="grid md:grid-cols-2 gap-8 mt-4">
                <div class="card">
                    <h3 class="card-title">Short Run</h3>
                    <p>A firm maximizes profit where MR = MC. If the price at this quantity is above the Average Total Cost (ATC), the firm earns a <strong>positive economic profit</strong>. If the price is below ATC, it incurs a loss.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Long Run</h3>
                    <p>The freedom of entry and exit drives long-run economic profit to zero.</p>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li><strong>If firms are profitable (Short Run):</strong> New firms enter the market. This increases the number of substitute products, causing the demand for existing firms' products to fall (demand curve shifts left) until profit is competed away.</li>
                        <li><strong>If firms are making losses (Short Run):</strong> Some firms will exit the market. This reduces the number of substitutes, increasing demand for the remaining firms' products (demand curve shifts right) until losses are eliminated.</li>
                    </ul>
                    <p class="mt-2">The long-run equilibrium occurs where <strong>Price = ATC</strong>, resulting in zero economic profit.</p>
                </div>
            </div>

            <h3 class="section-subtitle">Comparison with Perfect Competition</h3>
            
            <div class="card-grid">
                <div class="card">
                    <h3 class="card-title">Excess Capacity</h3>
                    <p>In monopolistic competition, firms produce at a quantity less than the one that would minimize ATC. This is unlike perfect competition, where firms produce at their most efficient scale (minimum ATC) in the long run.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Price vs. Marginal Cost</h3>
                    <p>For a competitive firm, P = MC. For a monopolistically competitive firm, P > MC, indicating a markup over marginal cost.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Advertising Costs</h3>
                    <p>Monopolistically competitive firms incur costs for advertising and marketing to differentiate their products, costs that don't exist in perfect competition.</p>
                </div>
            </div>
        </div>

        <!-- 6. Oligopoly -->
        <div class="content-section" id="section6">
            <div class="section-header">
                <div class="section-number">6</div>
                <h2 class="section-title">A Closer Look: Oligopoly</h2>
            </div>
            
            <h3 class="section-subtitle">Key Characteristics</h3>
            <p>The defining feature of an oligopoly is the <strong>interdependence</strong> of firms. The actions of one firm significantly impact the others.</p>
            
            <div class="card-grid">
                <div class="card">
                    <h3 class="card-title">Few Sellers</h3>
                    <p>The industry is dominated by a small number of large firms. A <strong>duopoly</strong> is a special case with only two firms.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">High Barriers to Entry</h3>
                    <p>Significant obstacles prevent new competitors from entering.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Substantial Price Control</h3>
                    <p>Firms have considerable power to set prices, but they must consider their rivals' reactions.</p>
                </div>
            </div>

            <h3 class="section-subtitle">Demand Analysis and Pricing Strategies</h3>
            <p>Because firms are interdependent, there is no single model to explain their behavior. Instead, we use several models.</p>
            
            <div class="card-grid">
                <div class="card">
                    <h3 class="card-title">Price Collusion and Cartels</h3>
                    <p>Firms may agree to act together to set prices or quantities. This is called collusion. A formal, open agreement is a <strong>cartel</strong>. Collusion allows firms to act like a single monopolist, increasing profits and reducing uncertainty.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Game Theory and Nash Equilibrium</h3>
                    <p><strong>Game theory</strong> is the study of strategic decision-making. A <strong>Nash Equilibrium</strong> is a state where no participant can improve their outcome by unilaterally changing their strategy, assuming all other participants' strategies remain unchanged.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Kinked Demand Curve Model</h3>
                    <p>This model explains why prices in oligopolies can be "sticky" (inflexible). It assumes rivals will <strong>match a price cut</strong> but will <strong>ignore a price increase</strong>. This creates a "kink" in the demand curve.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Dominant Firm Model</h3>
                    <p>In some oligopolies, one firm has a large market share (e.g., >40%) and acts as the price leader. This dominant firm sets the price to maximize its own profit, and the smaller "fringe" firms act as price takers at that price.</p>
                </div>
            </div>
        </div>
        
        <!-- 7. Identifying Market Structure -->
        <div class="content-section" id="section7">
            <div class="section-header">
                <div class="section-number">7</div>
                <h2 class="section-title">How to Determine a Market's Structure</h2>
            </div>
            
            <p class="text-lg mb-6">Economists use several tools to identify and classify market structures, ranging from simple calculations to complex statistical models.</p>
            
            <h3 class="section-subtitle">Simpler Measures: Concentration Ratios</h3>
            
            <div class="policy-card">
                <h3 class="policy-title">N-Firm Concentration Ratio</h3>
                <p>This ratio measures the combined market share of the largest 'N' firms in an industry. For example, a 4-firm concentration ratio is the total sales of the four largest firms divided by total industry sales.</p>
                
                <div class="formula">
                    <div>
                        <span class="formula-main">CR = <span class="fraction"><span class="numerator">Σ Sales of Largest X Firms</span><span class="denominator">Total Market Sales</span></span></span>
                    </div>
                </div>
                
                <div class="card-grid mt-4">
                    <div class="card">
                        <h3 class="card-title">0%</h3>
                        <p>Indicates perfect competition</p>
                    </div>
                    <div class="card">
                        <h3 class="card-title">0% - 50%</h3>
                        <p>Often suggests monopolistic competition</p>
                    </div>
                    <div class="card">
                        <h3 class="card-title">50% - 85%</h3>
                        <p>Typically indicates an oligopoly</p>
                    </div>
                    <div class="card">
                        <h3 class="card-title">100%</h3>
                        <p>Defines a monopoly</p>
                    </div>
                </div>
                
                <div class="example">
                    <p class="example-title">Illustrative Example:</p>
                    <p>An industry has total sales of $200 million. The top 4 firms have sales of $45m, $35m, $25m, and $15m respectively.</p>
                    <p><strong>Step 1:</strong> Sum the sales of the top 4 firms: $45 + $35 + $25 + $15 = $120 million.</p>
                    <p><strong>Step 2:</strong> Calculate the ratio: CR4 = <span class="fraction"><span class="numerator">$120m</span><span class="denominator">$200m</span></span> = 0.60 or 60%.</p>
                    <p><strong>Conclusion:</strong> A 60% ratio suggests this market is likely an oligopoly.</p>
                </div>
            </div>

            <div class="policy-card mt-8">
                <h3 class="policy-title">Herfindahl-Hirschman Index (HHI)</h3>
                <p>The HHI is a more sensitive measure of concentration. It is calculated by summing the squares of the market shares of all firms in an industry.</p>
                
                <div class="formula">
                    <div>
                        <span class="formula-main">HHI = Σ (Market Share of Firm i)²</span>
                    </div>
                </div>
                
                <div class="card-grid mt-4">
                    <div class="card">
                        <h3 class="card-title">Close to 0</h3>
                        <p>Suggests perfect competition</p>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Approaching 1 (or 10,000)</h3>
                        <p>Suggests a monopoly</p>
                    </div>
                </div>
                
                <div class="example">
                    <p class="example-title">Illustrative Example:</p>
                    <p>An industry has three firms with market shares of 60%, 30%, and 10%.</p>
                    <p><strong>Step 1:</strong> Square each market share (as a decimal): (0.60)² = 0.36, (0.30)² = 0.09, (0.10)² = 0.01.</p>
                    <p><strong>Step 2:</strong> Sum the squared shares: HHI = 0.36 + 0.09 + 0.01 = 0.46.</p>
                    <p><strong>Conclusion:</strong> This HHI value indicates a highly concentrated market (oligopoly).</p>
                </div>
            </div>

            <h3 class="section-subtitle">Econometric Approaches</h3>
            <div class="callout callout-note">
                <p>This is a more complex but powerful method. It involves using statistical techniques like regression analysis to estimate the elasticity of demand and supply in a market. By analyzing how quantity demanded responds to price changes, economists can directly infer the degree of market power a firm possesses. An inelastic demand curve suggests significant market power, while a highly elastic demand curve suggests very little.</p>
            </div>
        </div>
    </div>

    <script>
        // Enhanced navigation and interaction functionality
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.content-section');
            const steps = document.querySelectorAll('.progress-step');
            const tocItems = document.querySelectorAll('.toc-item');
            const backToTop = document.getElementById('backToTop');
            
            // Function to reset all steps and toc items
            function resetActiveStates() {
                steps.forEach(step => step.classList.remove('active-step'));
                tocItems.forEach(item => item.classList.remove('active'));
            }
            
            // Function to update progress steps and TOC based on scroll position
            function updateActiveSection() {
                const scrollPosition = window.scrollY + 200;
                
                let currentSectionIndex = 0;
                for (let i = sections.length - 1; i >= 0; i--) {
                    if (sections[i].offsetTop <= scrollPosition) {
                        currentSectionIndex = i;
                        break;
                    }
                }
                
                resetActiveStates();
                
                // Update progress steps
                for (let i = 0; i <= currentSectionIndex; i++) {
                    if (steps[i]) {
                        steps[i].classList.add('active-step');
                    }
                }
                
                // Update TOC
                if (tocItems[currentSectionIndex]) {
                    tocItems[currentSectionIndex].classList.add('active');
                }
            }
            
            // Scroll event listener
            window.addEventListener('scroll', () => {
                updateActiveSection();
                
                // Show/hide back to top button
                if (window.scrollY > 500) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            });
            
            // TOC item click handlers
            tocItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    const targetSection = document.getElementById(`section${index + 1}`);
                    if (targetSection) {
                        targetSection.scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Progress step click handlers
            steps.forEach((step, index) => {
                step.addEventListener('click', () => {
                    const targetSection = document.getElementById(`section${index + 1}`);
                    if (targetSection) {
                        targetSection.scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Back to top functionality
            backToTop.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Mobile TOC toggle
            const toggleToc = document.getElementById('toggleToc');
            const floatingToc = document.querySelector('.floating-toc');
            
            if (toggleToc && floatingToc) {
                toggleToc.addEventListener('click', () => {
                    floatingToc.classList.toggle('hidden');
                    floatingToc.classList.toggle('lg:block');
                });
            }
            
            // Initial call
            updateActiveSection();
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>

</body>
</html>